//
// Functions
//


//
// Generate a list of expressions
//
// @param {List} $values
// @param {Number} $breakpoints
// @param {List} $pool
// @param {List} $curr
// @return {List}
//

@function -f-expressions($values, $breakpoints, $pool: (), $curr: ()) {
  @if $breakpoints == 0 {
    $pool: append($pool, $curr);
  } @elseif $breakpoints > 0 {
    @each $value in $values {
      @if length($curr) > 0 and $value == -f-last($curr) {
        $value: null;
      }
      $pool: -f-expressions($values, $breakpoints - 1, $pool, append($curr, $value));
    }
  }
  @return $pool;
}


//
// Get the last item from `$list`
//
// @param {List} $list
// @param {String} $exception
// @return {String}
//

@function -f-last($list: (), $exception: null) {
  $i: length($list);
  @while $i > 0 {
    @if nth($list, $i) != $exception {
      @return nth($list, $i);
    }
    $i: $i - 1;
  }
}


//
// Replace `$search` with `$replace` in `$string`
//
// @author Hugo Giraudel
// @param {String} $string - Initial string
// @param {String} $search - Substring to replace
// @param {String} $replace ("") - New value
// @return {String} - Updated string
//

@function str-replace($string, $search, $replace: "") {
  $index: str-index($string, $search);

  @if $index {
    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
  }

  @return $string;
}
